{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2026-01-10 14:31:18.099138",
 "css": ".hr{ \r\n    margin-top: 7px; \r\n    margin-bottom: 7px; \r\n} \r\n.print-format{ \r\n    font-size: 8pt;\r\n    padding: 30px !important;\r\n} \r\n.print-format td, .print-format th{ \r\n    padding: 3px !important; \r\n}\r\n\r\n @media print {\r\n    @page {\r\n        size: A4;\r\n        margin: 20mm;\r\n    }\r\n    .page-break {\r\n        page-break-before: always;\r\n    }\r\n    .last-page footer {\r\n        position: fixed;\r\n        bottom: 0;\r\n        width: 100%;\r\n    }\r\n    body {\r\n        font-size: 12px;\r\n    }\r\n}\r\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n    <style>\n        table {\n          font-family: arial, sans-serif;\n          border-collapse: collapse;\n        }\n        td, th {\n          border-top: 1px solid black;\n          text-align: left;\n        }\n        .tablee td, th {\n            width: 0%;\n        }\n    </style>    \n</head>\n<body>\n    <div class=\"letter\" style=\"margin:-30px;\">\n        <div class=\"header\">\n            <img src=\"/files/letterpad.png\">\n            {% set co_tax_id = frappe.db.get_value('Company', {'name':doc.company}, ['tax_id']) %}\n            <center><p style=\"font-size:15px;font-weight: 700;float: center;padding-top: 15px !important;margin-top:-5px;\">TAX INVOICE</p></center>\n            <div class=\"main2\" style=\"font-weight: 600;width: 98%;float: left;padding-left: 20px;padding-top: 0px !important;\">\n                <div class=\"pra5\" style=\"width: 50%; float: left;font-weight: 600;padding-bottom:-10px;border-top:1px solid;border-right:1px solid;border-left:1px solid;padding-left: 10px;\">\n                    <p style=\"font-size:13px;font-weight: 700;\">{{doc.customer_name}} ({{doc.customer}})</p>\n                    {% set tax_id = frappe.db.get_value('Customer', {'name':doc.customer}, ['tax_id']) %}\n                    <p style=\"font-size:11px;font-weight: 700;\">VAT ID: {{tax_id or ''}}</p>\n                    <h5 style=\"font-size: 14px;\"><b>Billing Address</b></h5>\n                    {% if doc.customer_address %}\n                    {% set address_line1,address_line2,city,country,state = frappe.db.get_value('Address', {'name':doc.customer_address}, ['address_line1','address_line2','city','country','state']) %}\n                    <p style=\"font-size:11px;\">{{address_line1 or ''}}, {{address_line2 or ''}}, {{city or ''}}, {{state or ''}},{{country or ''}} </p>\n                    {% else %}\n                    <p style=\"font-size:11px;\"></p>\n                    {% endif %}\n                    <p style=\"font-size:10px;height:57px;\"></p>\n                </div>\n                <div class=\"pra5\" style=\"width: 50%; float: left;font-weight: 600;padding-bottom:-10px;border-top:1px solid;border-right:1px solid;padding-left: 10px;\">\n                    <table style=\"width:100%; font-size:11px; font-weight:600; border-collapse: collapse;\">\n                        <tr>\n                            <td style=\"font-size:13px;width:60%;border: none !important;\">Invoice No: {{doc.name}}</td>\n                            <td style=\"font-size:13px;width:40%;border: none !important; text-align:left;\">Date: {{ frappe.format(doc.posting_date, {'fieldtype': 'Date'}) }}</td>\n                        </tr>\n                        <tr>\n                            <td style=\"border: none !important;\">Currency: {{doc.currency or ''}}</td>\n                            <td style=\"border: none !important;text-align:left;\">Ex-Rate: {{doc.conversion_rate or ''}}</td>\n                        </tr>\n                        <tr>\n                            {% set transaction_date = frappe.db.get_value('Sales Order', {'name':doc.items[0].sales_order}, ['transaction_date']) %}\n                            {% if doc.items[0].sales_order %}\n                                <td style=\"border: none !important;\">SO No: {{doc.items[0].sales_order}}</td>\n                                <td style=\"border: none !important;text-align:left;\">Date: {{ frappe.format(transaction_date, {'fieldtype': 'Date'}) }}</td>\n                            {% else %}\n                                <td style=\"border: none !important;\">SO No: </td>\n                                <td style=\"border: none !important;text-align:left;\">Date:</td>\n                            {% endif %}    \n                        </tr>\n                        <tr>\n                            {% if doc.po_no %}\n                                <td style=\"border: none !important;\">PO No: {{doc.po_no or ''}}</td>\n                                <td style=\"border: none !important;text-align:left;\">Date: {{ frappe.format(doc.po_date, {'fieldtype': 'Date'}) }}</td>\n                            {% else %}\n                                <td style=\"border: none !important;\">PO No: </td>\n                                <td style=\"border: none !important;text-align:left;\">Date:</td>\n                            {% endif %}    \n                        </tr>\n                        <tr>\n                            {% if doc.po_no %}\n                                <td style=\"border: none !important;\">Contract No:</td>\n                                <td style=\"border: none !important;text-align:left;\">Date: </td>\n                            {% else %}\n                                <td style=\"border: none !important;\">Contract No: </td>\n                                <td style=\"border: none !important;text-align:left;\">Date:</td>\n                            {% endif %}    \n                        </tr>\n                        {% set posting_date = frappe.db.get_value('Delivery Note', {'name':doc.items[0].delivery_note}, ['posting_date']) %}\n                        {% if doc.items[0].delivery_note %}\n                        <tr>\n                            <td style=\"border: none !important;\">DN No: {{doc.items[0].delivery_note}}</td>\n                            <td style=\"border: none !important;text-align:left;\">Date: {{ frappe.format(posting_date, {'fieldtype': 'Date'}) }}</td>\n                        </tr>\n                        {% endif %}\n                    </table>\n                    <p style=\"font-size:12px;font-weight: 600;color:blue;\">Payment Terms: {{doc.payment_terms_template}}</p>\n                    <p style=\"font-size:11px;height:20px;\"></p>\n                </div>\n            </div>\n            <div class=\"main4\">\n            {% set grouped_items = {} %}\n            {% for i in doc.items %}\n                {% set item_code = i.item_code %}\n                {% if item_code in grouped_items %}\n                    {% set new_qty = grouped_items[item_code].qty + i.qty %}\n                    {% set new_amount = grouped_items[item_code].amount + i.amount %}\n                    {% set _ = grouped_items[item_code].update({\n                        'qty': new_qty,\n                        'amount': new_amount,\n                        'lpo_sns': grouped_items[item_code].lpo_sns + [i.custom_lpo_sn or '']\n                    }) %}\n                {% else %}\n                    {% set _ = grouped_items.update({\n                        item_code: {\n                            'idx': i.idx,\n                            'item_name': i.item_name,\n                            'item_code': i.item_code,\n                            'uom': i.uom,\n                            'qty': i.qty,\n                            'rate': i.rate,\n                            'amount': i.amount,\n                            'lpo_sns': [i.custom_lpo_sn or ''],\n                            'country_of_origin': frappe.db.get_value('Item', {'name': i.item_code}, 'country_of_origin'),\n                            'custom_manufacture_name': frappe.db.get_value('Item', {'name': i.item_code}, 'custom_manufacture_name'),\n                            'custom_catalogue_no': frappe.db.get_value('Item', {'name': i.item_code}, 'custom_catalogue_no')\n                        }\n                    }) %}\n                {% endif %}\n            {% endfor %}\n            <table class=\"table\" style=\"border-top: 1px solid black;border-bottom: 1px solid black;border-left: 1px solid black;width: 95.5%;margin-left: 20px;margin-top: !important;padding: 48px;\">\n                <thead>\n                    <tr style=\"background-color: lightgray;font-size:10px;\">\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:3%;text-align: center;\"><b>SN</b></th>\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:7%;text-align: center;\"><b>LPO SN</b></th>\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:45%;text-align: left;\"><b>Item Description</b></th>\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:10%;text-align: center;\"><b>UOM</b></th>\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:10%;text-align: center;\"><b>Qty</b></th>\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:10%;text-align: center;\"><b>Rate</b></th>\n                        <th style=\"border-right:1px solid black;border-bottom:1px solid black!important;color:black !important;width:15%\"><b>Total Amount</b></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {% for item_code, item in grouped_items.items() %}\n                    <tr style=\"height: 27px;\">\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;text-align: center;\">{{ item.idx }}</td>\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;text-align: center;\">{{ item.lpo_sns | join(', ') }}</td>\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;text-align: left;\">\n                            {{ item.item_name }} ({{ item.item_code or '' }})  \n                            <br>\n                            <span style=\"color:blue;\">\n                                Catalogue No : {{ item.custom_catalogue_no or '' }} <br>\n                                MFG : {{ item.custom_manufacture_name or '' }} / {{ item.country_of_origin or '' }}\n                            </span>\n                        </td>\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;text-align: center;\">{{ item.uom }}</td>\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;text-align: center;\">{{ item.qty }}</td>\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;text-align: center;\">{{\"%.3f\"|format(item.rate) }}</td>\n                        <td style=\"border-right:1px solid black;border-bottom:1px solid black;\">{{\"%.3f\"|format(item.amount) }}</td>\n                    </tr>\n                    {% endfor %}\n                </tbody>\n            </table>\n        </div>\n            <div class=\"main11d2\" style=\"width: 100%;float: left;padding-top:-45px;\">\n                <div class=\"main11d2\" style=\"width: 100%; float: left; padding-left: 20px; padding-top: -45px;margin-bottom:20px;\">\n                    <div class=\"prda5\" style=\"padding: 15px; width: 98%; float: right; font-weight: 700; border: 1px solid black; border-top: none; margin-top: -20px; margin-right: 16px;\">\n                        <p style=\"font-size: 12px; margin-left: 120px; padding-bottom: 6px;float: right;\">\n                            Total Amount : <b style=\"margin-left: 10px;\">{{ \"%.3f\"|format(doc.total) }}</b> <br>\n                            <b style=\"margin-left: 25px;\">Discount : <span style=\"margin-left: 10px;\">{{ \"%.3f\"|format(doc.discount_amount) }}</span></b> <br>\n                            <b style=\"margin-left: 8px;\">Net Amount : <span style=\"margin-left: 10px;\">{{ \"%.3f\"|format(doc.grand_total) }}</span></b>\n                        </p>\n                        <center><p style=\"font-size: 11px; font-weight: 700; margin-top: 20px;float: left;\">\n                            &nbsp;&nbsp;{{ doc.in_words }}\n                        </p></center>\n                    </div>\n                </div>\n            </div>\n            {% set user_name, mobile, email = frappe.db.get_value('User', {'name':frappe.session.user}, ['full_name','mobile_no','email']) %}\n            <div style=\"margin-left:25px;margin-top:-15px;font-size:11px;font-weight:700;\">\n                {% if doc.party %}\n                {% set account_name,bank,branch_code,bank_account_no,custom_swift_code,finance_code,custome_tax_card = frappe.db.get_value('Bank Account', {'name':doc.party}, ['account_name','bank','branch_code','bank_account_no','custom_swift_code','custom_finance_code','custom_tax_card']) %}\n                    <p style=\"font-size:14px\">Bank Details : </p>\n                    <p>Bank Name : {{bank or \"\"}} / IBAN No : {{branch_code or \"\"}} / SWIFT Code : {{custom_swift_code or \"\"}}</p>\n                    <p>Bank Account Number : {{bank_account_no or \"\"}} </p>\n                    <p>Finance Code : {{finance_code or \"\"}}</p>\n                    <p>Tax card Id: {{custome_tax_card or \"\"}}</p>\n                {% else %}\n                    <p style=\"font-size:14px\">Bank Details : </p>\n                    <p>Bank Name : </p>\n                    <p>Bank Account Number : </p>\n                    <p>Finance Code : </p>\n                    <p>Tax card Id : </p>\n                {% endif %}\n                <br><br><br>\n            </div>\n            <div style=\"position: fixed; bottom: 10px; width: 100%; background-color: white;\">\n                <br>\n                {% set user_name,mobile,email = frappe.db.get_value('User', {'name':frappe.session.user}, ['full_name','mobile_no','email']) %}\n                <center><b style=\"padding-bottom: 20px;\">Issued By : {{user_name or ''}} / {{mobile or ''}} / {{email or ''}}</b></center>\n            </div>\n        </div>\n    </div>\n</body>\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-01-10 14:34:26.657390",
 "modified_by": "Administrator",
 "module": "SRCo",
 "name": "SI V1.01",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}